<!DOCTYPE html>
<html lang="fr-FR"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.25">

  <title>Projet Données Satellites – Images satellites pour améliorer le repérage des logements dans les DROM</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-ea8535d309a38c52e88d69daf30b07d0.css">
  <link rel="stylesheet" href="../_extensions/InseeFrLab/onyxia/logo.css">
  <link rel="stylesheet" href="../custom.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<meta property="og:title" content="Images satellites pour améliorer le repérage des logements dans les DROM – Projet Données Satellites">
<meta property="og:description" content="Raya Berova, Thomas Faria (Insee)">
<meta property="og:site_name" content="Projet Données Satellites">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="../_extensions/InseeFrLab/onyxia/background.svg" data-background-size="contain" data-notes="<p>Bonjour à tous, tout d’abord merci à nos collègues de l’IGN pour cette présentation très intéressante. C’est avec leur aide qu’à l’Insee, nous avons pu exploiter les données satellitaires. Je ne vous en dis pas plus vous allez le voir dans la suite de cette présentation. Présentation qui est sur le sujet des Images satellites pour améliorer le repérage des logements dans les départements et régions d’outre mer.</p>" class="quarto-title-block center">
  <h1 class="title">Images satellites pour améliorer le repérage des logements dans les DROM</h1>
  <p class="subtitle"></p><p><span class="orange"><strong>Raya Berova</strong></span>, <strong><span class="blue2">Thomas Faria</span></strong> <strong>(Insee)</strong></p><p></p>

<div class="quarto-title-authors">
</div>

  <p class="date">3 juillet 2025</p>
</section>
<section id="plan" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Plan</h1>
<p>1️⃣ Introduction</p>
<p>2️⃣ Méthodologie</p>
<p>3️⃣ Données</p>
<p>4️⃣ Résultats</p>
<p>5️⃣ De l’expérimentation à la production ?</p>
<p>6️⃣ Discussion</p>
<aside class="notes">
<p>On commencera par une introduction pour poser le contexte et expliquer les enjeux du recensement dans les départements et régions d’outre mer, les DROM.<br>
Ensuite, on vous présentera la méthodologie que nous avons adoptée, puis les données utilisées, notamment les images satellites.<br>
Ce qui nous permettra de passer ensuite aux résultats obtenus.<br>
La cinquième partie portera sur la question du passage de l’expérimentation à une utilisation en production.<br>
Et enfin, on conclura par une discussion plus large sur les perspectives et les limites.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section>
<section id="introduction" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>1️⃣ Introduction</h1>

</section>
<section id="contexte" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Contexte</h2>
<ul>
<li>Mission principale de l’Insee → le <span class="orange"><strong>recensement</strong></span> de la population :
<ul>
<li>Communes ≥ 10 000 hab : <span class="blue2"><strong>8% /an</strong></span></li>
<li>Communes &lt; 10 000 hab : <span class="blue2"><strong>100% /5 ans</strong></span></li>
</ul></li>
<li>Information du <span class="orange"><strong>nombre de logements</strong></span> ?</li>
</ul>
<aside class="notes">
<p>Comme vous le savez bien, l’Insee doit faire le recensement tous les ans. C’est l’une des missions les plus importantes dans notre institut. Chaque année, une partie de la population est recensée, peut-être que ça a été votre cas dernièrement.</p>
<p>Tous les ans, 8% des logements des communes de +10k hab sont recensés et un cinquième des communes de -10k hab. Les communes de -10k hab sont recensés en entier. Pour tirer ces échantillons, il faut avoir l’information du nombre de logements dans les commune de + de 10k hab</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="répertoire-des-immeubles-localisés" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Répertoire des Immeubles Localisés</h2>
<ul>
<li>Le <span class="orange"><strong>RIL</strong></span> :
<ul>
<li><span class="blue2"><strong>Inventaire du bâti</strong></span></li>
<li>Communes de <span class="blue2"><strong>+10 000 habitants</strong></span></li>
<li><span class="blue2"><strong>Permis de construire</strong></span> et informations locales<br>
</li>
<li><span class="blue2"><strong>Bases de sondage</strong></span> des enquêtes de recensement</li>
</ul></li>
</ul>
<p>La <span class="orange"><strong>qualité du RIL</strong></span> est bonne en France hexagonale ✅… mais loin d’être fiable dans les DROM ⚠️<br>
→ Autre méthode : <span class="orange"><strong>découpage en îlots</strong></span></p>
<aside class="notes">
<p>Afin de préparer le recensement, l’Insee se sert du <span class="orange"><strong>répertoire</strong></span> des immeubles localisés pour connaître le nombre de logements disponibles dans les communes de 10 000 habitants et plus.<br>
Pour chaque élément dans le RIL, il existe l’information du nombre de logements au sein du bâtiment, son caractère habitable, son adresse et sa géolocalisation.<br>
Ce répertoire est utilisé à l’Insee pour constituer les bases de sondage des enquêtes de recensement.<br>
La qualité du RIL est bonne en France hexagonale cependant elle est bien inférieure dans les territoires d’outre mer.</p>
<p>Pour cette présentation, nous allons nous focaliser sur le recensement dans les DROM et non en France hexagonale.</p>
<p>Dans les territoires d’outre mer, chacun des DROM est découpé en “îlots”. Chaque année, dans les communes de +10k hab, un cinquième des îlots sont tirés, et 40% des logements y seront recensés. Cependant, il est difficile de connaître réellement le nombre de logements à recenser.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="recensement-dans-les-territoires-doutre-mer" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Recensement dans les territoires d’outre mer</h2>
<ul>
<li><p><span class="orange"><strong>Contexte critique</strong></span> : Mayotte et Guyane</p></li>
<li><p>Pour compléter le RIL dans les DROM : <span class="blue2"><strong>enquête cartographique</strong></span> → très <span class="orange"><strong>lourde</strong></span></p></li>
<li><p><span class="orange"><strong>L’imagerie satellitaire</strong></span> pour optimiser le processus du recensement dans les DROM ? 🛰️</p></li>
</ul>
<aside class="notes">
<p>En effet, dans les DROM, le contexte est particulier, surtout à mayotte et en guyane. Les informations sur le bâti issu des permis de construire et des informations des mairies ne sont pas assez fournies. De plus, le développement urbain y est extrêmement rapide avec les bidonvilles, rendant le suivi du bâti très compliqué avec les nombreuses constructions et destructions des habitations précaires et instables.</p>
<p>Pour compléter le RIL, une enquête cartographique est mise en place. C’est une enquête sur le terrain, réalisée sur chacun de ces territoires avant le recensement, et qui a pour but d’envoyer des agents pour faire un inventaire du bâti. Cette opération est laborieuse, coûteuse et peut s’avérer dangereuse. Les agents font face à des difficultés sur le terrain : trop grand nombre de logements à enquêter pour la quantité d’agents envoyés sur place, terrains compliqués à atteindre, aggressions…</p>
<p>Peut-on utiliser <span class="orange"><strong>l’imagerie satellite</strong></span> pour optimiser le processus du recensement dans les DROM ? 🛰️</p>
<p><span class="orange"><strong>Les données satellitaires représentent</strong></span>: - une source d’information indépendante - permettent une veille territoriale continue - la méthodologie est transparente et reproductible</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="nos-cas-dusage" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Nos cas d’usage</h2>
<ul>
<li>Identifier les zones avec <span class="orange"><strong>une forte densité de bâti</strong></span> 🏘️<br>
</li>
<li>Détecter les <span class="blue2"><strong>évolutions du bâti</strong></span> de façon automatique<br>
</li>
<li>Aider <span class="orange"><strong>l’estimation de la population</strong></span> dans les DROM 👥<br>
</li>
<li><span class="red2"><strong>Répondre à une urgence</strong></span> 🚨 : cyclone “Chido” à Mayotte</li>
</ul>
<aside class="notes">
<ul>
<li>Identifier les zones avec <span class="blue2"><strong>une forte densité de bâti</strong></span>, c’est à dire <span class="blue2"><strong>les zones prioritaires</strong></span> pour l’enquête cartographique et pour lesquelles il faut envoyer le plus d’agents.</li>
<li>Pouvoir détecter <span class="blue2"><strong>les évolutions du bâti</strong></span> de façon automatique, notamment depuis le précédent inventaire du bâti effectué<br>
</li>
<li>Aider l’estimation de la population dans les DROM<br>
</li>
<li><span class="red2"><strong>Répondre à une urgence</strong></span> : les conséquences du cyclone “Chido” sur le bâti à Mayotte</li>
</ul>
<p>-&gt; On va maintenant se pencher sur la méthodologie utilisée pour répondre à ces besoins.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section id="plan-1" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Plan</h1>
<p>1️⃣ Introduction</p>
<p><strong>2️⃣ Méthodologie</strong></p>
<p>3️⃣ Données</p>
<p>4️⃣ Résultats</p>
<p>5️⃣ De l’expérimentation à la production ?</p>
<p>6️⃣ Discussion</p>
</section>

<section>
<section id="méthodologie" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>2️⃣ Méthodologie</h1>

</section>
<section id="segmentation-sémantique" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Segmentation sémantique</h2>
<ul>
<li><span class="orange"><strong>Vision par ordinateur</strong></span><br>
</li>
<li><span class="blue2"><strong>Classer chaque pixel</strong></span> d’une image<br>
</li>
<li>Pour nos besoins : connaître les pixels de <span class="orange"><strong>catégorie “bâtie”</strong></span></li>
</ul>
<div style="text-align:center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="../img/segmentation.png" style="width:30.0%"></p>
<figcaption>Exemple de segmentation “bâtiment”</figcaption>
</figure>
</div>
</div>
<aside class="notes">
<p>Pour détecter le bâti de façon automatique, nous nous sommes tourné vers la vision par ordinateur, qui est une branche du domaine de l’intelligence artificielle. La segmentation sémantique permet de classer chaque pixel d’une image dans l’une des classes définie en amont. La segmentation semantique peut utiliser toute sorte de classe, mais voici un exemple de résultat qui nous interesse : ex. J’AIMERAI PRECISER QU’avec uniquement de l’imagerie satellitaire, nous ne pourrons pas décider du caractère habitable ou non d’un bâtiment ni du nombre de logements à l’intérieur. Par conséquent, nous ne pouvons pas remplacer l’enquête cartographique, l’idée est d’aider les enquêteurs en mettant en valeur les zones avec le plus de bâtiments à visiter.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="entraîner-un-modèle-de-segmentation" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Entraîner un modèle de segmentation</h2>
<ul>
<li><span class="orange"><strong>Il faut</strong></span> :
<ul>
<li>Une collection d’<span class="blue2"><strong>images satellites</strong></span> 🛰️</li>
<li><span class="blue2"><strong>Des annotations</strong></span> 📍</li>
</ul></li>
<li>Le modèle apprend à reproduire les annotations des images pour <span class="orange"><strong>généraliser</strong></span> sur de nouvelles images</li>
</ul>
<aside class="notes">
<p>Pour entrainer un modele il faut deux choses : des images et des annotations.</p>
<ul>
<li><p>Une annotation est “la vérité attendue”, comme par exemple l’image qui a été présentée à la slide précédente</p></li>
<li><p>Le modèle apprend à reproduire les annotations des images pour <span class="orange"><strong>généraliser</strong></span> sur de nouvelles images</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="de-la-segmentation-à-la-détection-de-changements" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>De la segmentation à la détection de changements</h2>

<img data-src="../img/strategy_segmentation.png" style="width:80.0%" class="r-stretch"></section>
<section id="modèle-utilisé" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Modèle utilisé</h2>
<ul>
<li><span class="orange"><strong>Architecture du modèle</strong></span> 🧠
<ul>
<li><span class="blue2"><strong>SegFormer</strong></span> : un modèle léger et performant</li>
<li><span class="blue2"><strong>Transformers</strong></span> : <span class="green2"><strong>mécanismes d’attention</strong></span> pour prendre en compte le contexte local et global</li>
<li><span class="blue2"><strong>Décodeur</strong></span> : Multi Layer Perceptron</li>
</ul></li>
<li><span class="orange"><strong>Adapté</strong></span> pour nos données satellites</li>
</ul>
<aside class="notes">
<p>Le modèle que nous avons sélectionné s’appuie sur une architecture appelée <strong>SegFormer</strong>. Modele de segmentation d’image entrainé par NVIDIA et opensource Il a l’avantage d’etre très leger et donc rapide à entrainer Pour notre cas d’usage, c’est le modele qui a été le plus performant.</p>
<p>Il est basé sur une technologie appelée <strong>Transformer</strong>, connue pour ses performances dans de nombreux domaines de l’intelligence artificielle, notamment le traitement du langage, mais qui a aussi été adaptée à l’image. Ce n’est pas la plus répendue en vision par ordinateur.</p>
<p>Un des atouts de cette architecture, ce sont les <strong>mécanismes d’attention</strong>, qui permettent au modèle de prendre en compte le contexte local et global de l’image. Pour le décodeur, c’est Multi Layer Perceptron classique.</p>
<p>Enfin, nous avons <strong>ajusté le modèle à nos données</strong> spécifiques : des images satellites et des annotations.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="évaluation" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Évaluation</h2>
Pour évaluer les performances du modèle entraîné :<br>

<div style="text-align: center;">
<p><span class="orange"><strong>IOU</strong></span> = Intersection Over Union</p>
</div>

<img data-src="../img/schemaIOU.png" class="quarto-figure quarto-figure-center r-stretch" style="width:80.0%"><aside class="notes">
<p>Transition pour la suite : pour faire un entraînement, il ne faut plus que des données…</p>
<p>L’IoU, ou <em>Intersection over Union</em>, est une mesure qu’on utilise pour évaluer la qualité d’une prédiction en segmentation d’image.</p>
<p>Concrètement, on compare deux zones :<br>
- celle que le modèle a prédite comme appartenant à une certaine classe,<br>
- et la zone réelle, qu’on appelle le <em>label de vérité terrain</em>.</p>
<p>On mesure alors <strong>l’intersection</strong> entre ces deux zones – c’est la partie correctement prédite –<br>
et on la divise par <strong>l’union</strong> des deux – c’est-à-dire l’ensemble de tout ce qui a été soit prédit, soit annoté.</p>
<p>Un IoU de 1 signifie une correspondance parfaite.<br>
Un IoU de 0 signifie aucune correspondance.</p>
<p>Plus l’IoU est élevé, plus la prédiction est précise.<br>
C’est une métrique particulièrement adaptée pour des tâches comme la nôtre, où on doit prédire la forme exacte des bâtiments ou des routes, pixel par pixel.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section id="plan-2" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Plan</h1>
<p>1️⃣ Introduction</p>
<p>2️⃣ Méthodologie</p>
<p><strong>3️⃣ Données</strong></p>
<p>4️⃣ Résultats</p>
<p>5️⃣ De l’expérimentation à la production ?</p>
<p>6️⃣ Discussion</p>
</section>

<section>
<section id="données" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>3️⃣ Données</h1>

</section>
<section id="pléiades-vs-sentinel-2" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Pléiades vs Sentinel-2 🛰️</h2>
<div style="display: flex; align-items: center;">
<!-- Colonne gauche : Pl&#xE9;iades -->
<div style="flex: 2; font-size: 60%; padding-right: 1em;">
<p><strong>Pléiades</strong> :</p>
<ul>
<li><strong class="blue2">3</strong> bandes (<strong class="red2">R</strong><strong class="green2">G</strong><strong class="blue2">B</strong>)<br>
</li>
<li>Résolution <strong class="orange">0.5m</strong><br>
</li>
<li><strong class="blue2">Archives</strong> gratuites<br>
</li>
<li>Acquisition sur-demande payante<br>
</li>
</ul>
</div>
<!-- Colonne milieu : image + titre -->
<div style="flex: 6; text-align: center;">
<p><img src="../img/pleiades_vs_sentinel2.png" style="width: 100%;"><br> <span style="font-size: 50%;"><em>Mamoudzou, Mayotte 2024</em></span></p>
</div>
<!-- Colonne droite : Sentinel2 -->
<div style="flex: 2; font-size: 60%; padding-left: 1em;">
<p><strong>Sentinel2</strong> :</p>
<ul>
<li><strong class="blue2">13</strong> bandes<br>
</li>
<li>Résolution <strong class="orange">10m, 20m ou 60m</strong> (en fonction de la bande)<br>
</li>
<li>Acquisition <strong class="blue2">tous les 5j</strong><br>
</li>
<li><strong class="orange">Gratuit</strong><br>
</li>
</ul>
</div>
</div>
<aside class="notes">
<p>Il existe de nombreux produits satellitaires disponibles. Nous nous sommes surtout concentrés sur deux d’entre eux.<br>
Les images satellites Pléiades sont un produit intéressant pour notre cas d’usage - <span class="orange"><strong>Caractéristiques</strong></span>: - <span class="orange"><strong>3</strong></span> bandes spectrales (<span class="red2"><strong>R</strong></span><span class="green2"><strong>G</strong></span><span class="blue2"><strong>B</strong></span>) 🎨 - 4e bande : <span class="red2"><strong>NIR</strong></span> (pas dans nos données) - Résolution spatial : <span class="blue2"><strong>0.5m × 0.5m</strong></span> 🔍 - <span class="blue2"><strong>Archives</strong></span> gratuites (avec accord) - Acquisition <span class="blue2"><strong>sur-demande</strong></span> et payante (<span class="green2"><strong>6-8 mois</strong></span> par département), Airbus © licence 📅</p>
<p>Pour le cyclone Chido qui a ravagé Mayotte, un plan d’urgence a été mis en place. Nous avons pu obtenir une mosaique d’images Pléiades de Mayotte post cyclone datant du premier trimestre de 2025 gratuitement.</p>
<p>Comme je vous disais au début, c’est grâce à l’IGN que nous avons pu mener à bien notre projet car ils nous fournissent des mosaiques d’images Pléiades. Une mosaique est une reconstitution complète d’un territoire avec des prises de vues de plusieurs dates, permettant ainsi d’avoir une couverture le moins ennuagée et la plus propre possible. Ce travail est très important pour avoir de bonnes images pour l’entraînement.</p>
<p>Mais un autre type d’images satellites est à notre disposition : Sentinel-2. Elles sont open source et l’acquisition se fait tous les 5 jours. Cependant, leur résolution est moins précise que les images pléiades.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="annotations-cosia" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Annotations : COSIA</h2>
<ul>
<li><a href="https://cosia.ign.fr/info#visualisation">Projet Cosia</a> par IGN 👏</li>
<li><span class="blue2"><strong>Utilisé pour annoter nos données d’entraînement</strong></span></li>
</ul>
<div style="display: flex; align-items: flex-start;">
<div style="flex: 4; text-align: center;">
<p><img src="../img/pleiades_mayotte_2023.png" style="width: 100%;"><br> <span style="font-size: 50%;"><em>Pleiades © CNES_2023, Distribution AIRBUS DS</em></span></p>
</div>
<div style="flex: 4; text-align: center;">
<p><img src="../img/cosia_multiclasse.png" style="width: 100%;"><br> <span style="font-size: 50%;"><em>Couverture du sol COSIA 2023</em></span></p>
</div>
<div style="flex: 2; text-align: center;">
<p><img src="../img/../img/legende_cosia.png" style="width: 50%;"><br> <span style="font-size: 50%;"><em>Légende COSIA</em></span></p>
</div>
</div>
<aside class="notes">
<p>Pour les annotations, il est possible de prendre des annotations binaires : bâtiment oui ou non, ou des annotations multiclasses comme le projet Cosia présenté précédement. - C’est une <span class="orange"><strong>couverture du sol générée par l’IA</strong></span> - Basé sur les <span class="orange"><strong>photographies aériennes</strong></span> de l’IGN à une résolution <span class="blue2"><strong>20cm</strong></span> 🗺️ Les polygones COSIA, disponibles pour les DROM, sont utilisés comme annotations dans nos données d’entraînement, malgré un possible décalage temporaire entre nos images et la productions de polygones. D’autres sources ont été testées comme annotations pour entrainer notre modele, mais COSIA fournit une couverture du sol multiclasse très précise, ce qui est un avantage pour les performances du modele.</p>
<p>les mosaiques d’images et les collections d’annotations COSIA de MAYOTTE 2023, MARTINIQUE 2022 et GUADELOUPE 2022 ont été utilisés pour entrainer notre modele, et des zones de test fixées ont été définies. Voyons voir les résultats produits par notre fameux entraînement.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section id="plan-3" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Plan</h1>
<p>1️⃣ Introduction</p>
<p>2️⃣ Méthodologie</p>
<p>3️⃣ Données</p>
<p><strong>4️⃣ Résultats</strong></p>
<p>5️⃣ De l’expérimentation à la production ?</p>
<p>6️⃣ Discussion</p>
</section>

<section>
<section id="résultats" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>4️⃣ Résultats</h1>

</section>
<section id="zone-de-test-à-mayotte" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Zone de test à Mayotte</h2>
<div style="display: flex; align-items: flex-start;">
<div style="flex: 3; text-align: center;">
<p><img src="../img/pleiades_mayotte_2023.png" style="width: 100%;"><br> <span style="font-size: 50%;"><em>Pleiades © CNES_2023, Distribution AIRBUS DS</em></span></p>
</div>
<div style="flex: 3; text-align: center;">
<p><img src="../img/cosia_multiclasse.png" style="width: 100%;"><br> <span style="font-size: 50%;"><em>Couverture du sol COSIA 2023</em></span></p>
</div>
<div style="flex: 3; text-align: center;">
<p><img src="../img/predictions_test_2023.png" style="width: 100%;"><br> <span style="font-size: 50%;"><em>Prédictions 2023</em></span></p>
</div>
<div style="flex: 1; text-align: center;">
<p><img src="../img/../img/legende_cosia.png" style="width: 70%;"><br> <span style="font-size: 50%;"><em>Légende COSIA</em></span></p>
</div>
</div>
<table class="caption-top">
<thead>
<tr class="header">
<th></th>
<th>Train</th>
<th>Test</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>IOU moyenne ∀classe</td>
<td>0.81</td>
<td>0.78</td>
</tr>
<tr class="even">
<td>IOU “bâtiment”</td>
<td>0.84</td>
<td>0.76</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>Dans un projet de recherche, une IoU moyenne de 0.6 peut déjà être considérée comme un excellent score, surtout dans des zones complexes comme les DOM où l’environnement est très hétérogène, et des écarts peuvent se créer un peu partout.</p>
<ul>
<li><p>À ce stade, nous avons donc construit et entraîné notre modèle, et vérifié ses performances</p></li>
<li><p>Questions clés : comment partager nos résultats ?</p></li>
<li><p>L’objectif n’était pas de publier un article, mais plutôt d’aider les collègues des territoires d’outre-mer à anticiper les enquêtes cartographiques avec un outil visuel</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="dashboard-interactive" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Dashboard Interactive 🚀</h2>
<div class="absolute" style="top: 280px; left: 150px; ">
<p>👉 <span class="orange"><strong>Application interactive</strong></span>: <a href="https://inseefrlab.github.io/satellite-images-webapp/">Cliquez ici</a></p>
</div>
<!-- <iframe src="https://inseefrlab.github.io/satellite-images-webapp/"
        width="100%"
        height="500"
        style="border:none;">
</iframe> -->
<aside class="notes">
<p>Transition : Notre entraînement a plutot bien marché, notre application web permet une bonne visualisation de nos prédictions… on peut dire que nous avons mené notre petite expérience à bien. Serait il temps de passer de l’experience à la “pseudo” production ?</p>
<ul>
<li>Nous avons décidé de créer une petite webapp</li>
<li>Nous avons calculé les surfaces des bâtiments à partir de nos prédictions : cela nous donne une valeur binaire pour chaque pixel, agrégée par niveau administratif</li>
</ul>
<p>⚠️ <strong>Avertissement :</strong> ceci est une version très préliminaire de notre application. Aucun contrôle ni processus qualité n’a encore été effectué.</p>
<ul>
<li>Carte standard <strong>Leaflet</strong> avec un fond <strong>OpenStreetMap</strong> affichant Pléiades 2023</li>
</ul>
<p><strong>97610 0608</strong> : méthodologie différente de floutage pour la prison<br>
<strong>97611 0332</strong> : nuages en 2022<br>
<strong>97611 0330</strong> : notre cas d’usage : détecter les changements de bâtiments en zone précaire</p>
<ul>
<li><span class="orange"><strong>Suivi des changements de bâtiments au niveau administratif</strong></span> :
<ul>
<li>Sélection par <span class="blue2"><strong>unités administratives</strong></span> (communes, quartiers)<br>
</li>
<li><span class="blue2"><strong>Contrôle qualité</strong></span> des changements détectés</li>
</ul></li>
<li><span class="orange"><strong>Fonctionnalités clés</strong></span> :
<ul>
<li>Comparaison temporelle côte à côte<br>
</li>
<li>Indicateurs statistiques par zone<br>
</li>
<li>Validation visuelle interactive<br>
</li>
</ul></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section id="plan-4" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Plan</h1>
<p>1️⃣ Introduction</p>
<p>2️⃣ Méthodologie</p>
<p>3️⃣ Données</p>
<p>4️⃣ Résultats</p>
<p><strong>5️⃣ De l’expérimentation à la production ?</strong></p>
<p>6️⃣ Discussion</p>
</section>

<section>
<section id="de-lexpérimentation-à-la-production" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>5️⃣ De l’expérimentation à la production ?</h1>
<!-- ## Technical Environment &#x2601;&#xFE0F;

- [**Cloud-native architecture**]{.orange} on the [**SSPCloud**]{.blue2} platform &#x2601;&#xFE0F;
- [**Modern tech stack**]{.orange}: Kubernetes, Docker, MLFlow, React &#x1F527;
- [**Automated workflows**]{.orange} ensuring [**reproducibility**]{.blue2} &#x1F504;
- [**Continuous deployment**]{.orange} of applications &#x1F680;
 -->
</section>
<section id="pipeline-globale" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Pipeline globale 🛠️</h2>
<div id="fig-chain2" class="quarto-float quarto-figure quarto-figure-center" width="100%" height="100%">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-chain2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="../img/pipeline_donnees_sat.png" id="fig-chain2" style="width:100.0%;height:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-chain2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1
</figcaption>
</figure>
</div>
<aside class="notes">
<p>Voici la pipeline globale. Les étapes 2 et 3 ne sont faites que lors de l’entrainement du modele. Ayant un entraînement qualitatif à notre disposition, pour prédire de nouvelles images, nous passons directement de l’étape 1 à l’étape 4. Un exemple très parlant et récent : le cyclone chido en une nuit -&gt; pred</p>
<ol type="1">
<li>Standardisation de l’acquisition des données — actuellement rudimentaire. Besoin d’images sans nuages, datées précisément, avec une méthodologie cohérente (challenge avec Pléiades).<br>
</li>
<li>Phase d’entraînement : suppression des nuages, équilibrage du jeu de données, annotation, découpage.<br>
</li>
<li>PyTorch avec modèle pré-entraîné depuis HuggingFace (requiert GPU).<br>
</li>
<li>Construction de l’API : prédiction sur images, regroupement / boîtes englobantes, calculs statistiques (surface bâtie).<br>
</li>
<li>Déploiement via GeoServer et application web.<br>
</li>
<li>Résultats utilisés par les collègues de l’INSEE pour analyses statistiques.</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="application-architecture" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Application Architecture 🧩</h2>

<img data-src="../img/app-architecture.png" class="quarto-figure quarto-figure-center r-stretch" style="width:100.0%"><aside class="notes">
<p>Merci à Onyxia d’avoir rendu ce projet possible en mode DevOps</p>
<p>Un point notable est que nous utilisons un Geoserver pour permettre un affichage dynamique de nos images satellites sur la webapp, rendu possible grace aux calculs effectués en interne pour fluidifier l’affichage de zones spécifiques.</p>
<p>Cette architecture étant très technique, je ne vais pas m’attarder longtemps dessus, on pourra y revenir s’il y a des questions. Même si ça semble être la force de ce projet, c’est également une grande limite.</p>
<ol type="1">
<li><span class="orange"><strong>Acquisition des données</strong></span> :
<ul>
<li>Imagerie Pléiades fournie par un prestataire national<br>
</li>
<li>Stockage sur infrastructure cloud</li>
</ul></li>
<li><span class="orange"><strong>Préparation des données</strong></span> :
<ul>
<li>Prétraitement des images (filtrage des nuages, normalisation)<br>
</li>
<li>Annotation automatisée à partir des données de bâtiments de référence<br>
</li>
<li>Découpage des images (tuiles de 125 m × 125 m)</li>
</ul></li>
<li><span class="orange"><strong>Développement du modèle</strong></span> :
<ul>
<li>Implémentation deep learning (PyTorch)<br>
</li>
<li>Entraînement avec GPU<br>
</li>
<li>Versionnage du modèle (MLFlow)</li>
</ul></li>
<li><span class="orange"><strong>Système de production</strong></span> :
<ul>
<li>API REST pour l’inférence<br>
</li>
<li>Déploiement containerisé<br>
</li>
<li>Capacités de traitement parallèle</li>
</ul></li>
<li><span class="orange"><strong>Distribution des résultats</strong></span> :
<ul>
<li>GeoServer permet de visualiser dynamiquement les images satellite grâce à des calculs qu’il effectue en amont, de sorte à ce que l’application web soit rapide<br>
</li>
<li>Application web pour la visualisation<br>
</li>
<li>Outils d’analyse statistique</li>
</ul></li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section id="plan-5" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Plan</h1>
<p>1️⃣ Introduction</p>
<p>2️⃣ Méthodologie</p>
<p>3️⃣ Données</p>
<p>4️⃣ Résultats</p>
<p>5️⃣ De l’expérimentation à la production ?</p>
<p><strong>6️⃣ Discussion</strong></p>
</section>

<section>
<section id="discussion" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>6️⃣ Discussion</h1>

</section>
<section id="défis-perspectives" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Défis &amp; Perspectives</h2>
<ul>
<li><span class="orange"><strong>Coûts de maintenance élevés</strong></span> en raison de la complexité technique 💸<br>
</li>
<li>Besoin de <span class="blue2"><strong>compétences spécialisées</strong></span> 🧑‍💻<br>
</li>
<li><span class="orange"><strong>Environnement technique complexe</strong></span> dû à :
<ul>
<li><span class="blue2"><strong>Volumes de données importants</strong></span> 🗃️<br>
</li>
<li><span class="blue2"><strong>Forts besoins en calcul (GPU)</strong></span> ⚡<br>
</li>
</ul></li>
<li><span class="orange"><strong>Résultats initiaux prometteurs</strong></span> pour accompagner les enquêtes cartographiques</li>
</ul>
</section></section>
<section id="merci-pour-votre-attention" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Merci pour votre attention</h1>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true,"theme":"whiteboard"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copi&#xE9;");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copi&#xE9;");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/github\.com\/orgs\/InseeFrLab\/teams\/satellite-images\/repositories");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>